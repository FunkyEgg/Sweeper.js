const fs = require('fs');

/**
 *  Initializes the html and css file
 *  @param {String} title The title of the website
 */
function init(title) {
    if (!title) { 
        console.warn('Sweeper.js: No title given, defaulting to "Sweeper.js"');
        title = 'Sweeper.js';
    }

    const htmlInitText = `<!-- Generated by Sweeper.js -->
<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="styles.css">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${title}</title>
</head>
<body>\n`;

    if (!fs.existsSync('./sweeper.js')) {
        fs.mkdirSync('./sweeper.js');
    }

    fs.writeFileSync('./sweeper.js/index.html', htmlInitText);
    fs.writeFileSync('./sweeper.js/styles.css', '/* Generated by Sweeper.js */\n');
}

module.exports = {
    init
}